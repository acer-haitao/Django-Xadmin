<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <title>数据表格展示</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="{% static '/css/layui.css' %}"  media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>

<!--导航栏-->
<ul class="layui-nav">
  <li class="layui-nav-item">
    <a href="">控制台<span class="layui-badge">9</span></a>
  </li>
  <li class="layui-nav-item">
    <a href="">个人中心<span class="layui-badge-dot"></span></a>
  </li>
  <li class="layui-nav-item">
    <a href=""><img src="http://t.cn/RCzsdCq" class="layui-nav-img">我</a>
    <dl class="layui-nav-child">
      <dd><a href="javascript:;">修改信息</a></dd>
      <dd><a href="javascript:;">安全管理</a></dd>
      <dd><a href="javascript:;">退了</a></dd>
    </dl>
  </li>
</ul>
<!--表格展示-->
<table class="layui-hide" id="test"></table>


<script src="{% static '/js/layui.js' %}" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->

<script>
    layui.use('table', function(){
        var table = layui.table;
        //'job','jobaddress','date','wages','jobname','joburl'
        table.render({
            elem: '#test'
            ,url:'/dbtojson/'
            ,cols: [[
                {field:'id', width:80, title: '职位名称', sort: true}
                ,{field:'job', width:180, title: '职位名称', sort: true}
                ,{field:'jobaddress', width:180, title: '工作地点',sort: true}
                ,{field:'date', width:80, title: '日期', sort: true}
                ,{field:'wages', width:120, title: '薪资',sort: true}
                ,{field:'jobname', width:120, title: '分类', sort: true}
                ,{field:'joburl', title: '链接'}
                ,{field:'jobtxt', width:380, title: '岗位职责'}

            ]]
            //,height: 700
            ,loading:true
            ,page: true
            //,skin: 'row' //行边框风格
            //,even: true //开启隔行背景
            //,size: 'lg' //小尺寸的表格
        });
    });
    //导航栏二级菜单
    layui.use('element', function(){
        var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

        //监听导航点击
        element.on('nav(demo)', function(elem){
            //console.log(elem)
            layer.msg(elem.text());
        });
    });
</script>

</body>
</html>